#!/usr/bin/env python2
"""
    Trim fastq file reads to a common length.

    trim_reads.py <input file> <length>
"""

#==========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================#

import gzip
import sys

from Bio import SeqIO

#==========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================#

n = int(sys.argv[2])

if sys.argv[1].endswith('.gz'):
    ofun = gzip.open
else:
    ofun = open

with ofun(sys.argv[1], 'rb') as handle:
    for rec in SeqIO.parse(handle, 'fastq'):
        SeqIO.write(rec[:n], sys.stdout, 'fastq')
